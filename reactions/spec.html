<!doctype html>
<html>
    <head>
        <title>Yet SQL LRS Documentation</title>
        <style type="text/css">
body{
    margin: 0 auto;
    padding: 30px;
    font: 20px Tahoma, Helvetica, Arial, Sans-Serif;
    line-height: 1.5;
}
h1, h2, h3, h4 {
	display: block; text-decoration: none;
	font: Helvetica, Arial, Sans-Serif;
 }
h1 {
  font-size: 35px;
 }
h2 {
  font-size: 30px;
 }
h3 {
  font-size: 25px;
 }
h4 {
  font-size: 20px;
 }
textarea {
	width: 600px; margin: 0 auto; background: #222; padding: 20px;
	font-size: 22px; color: #555; text-shadow: 0px 2px 3px #171717;
	-webkit-box-shadow: 0px 2px 3px #555;
	-moz-box-shadow: 0px 2px 3px #555;
	-webkit-border-radius: 10px;
	-moz-border-radius: 10px;
}
code {
  background: #eeeeee;
}
pre {
  margin: 0 auto;
  background: #eeeeee;
  padding: 20px;
	font-size: 15px;
	margin-bottom: 20px;
}
a {
	text-decoration: none;
	font: 18px Helvetica, Arial, Sans-Serif;
 }
hr {
  height: 3px;
  border: 0;
  background-color: #333;
}
img {
  max-width: 95%;
  display: block;
  margin: auto;
}
div#container {
  margin-left: auto;
  margin-right: auto;
  max-width: 80%;
}
/* a la https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Styling_tables#Spacing_and_layout */
table {
  width: 95%;
  margin-right: auto;
  margin-left: auto;
  border-collapse: collapse;
  border: 1px solid #dee2e5;
}
th, td {
  border: 1px solid #dee2e5;
  padding: 20px;
  line-height: 1.25;
}
tbody tr:nth-child(even) {
  background-color: #f6f8fa;
}
p {
  text-align: justify;
}

div.logo-container {
  width: 100%;
}

div.logo {
  width: 400px;
  margin-left: auto;
  margin-right: auto;
}
div.footer {
  font-size: medium;
  color:white;
  background-color: rgb(17, 55, 92) !important;
  width: 100%;
  display: block;
  text-align: center;
  padding-top: 30px;
  padding-bottom: 30px;
}
.footer a, .footer a:visited {
  color: white !important;
}

.footer a:hover {
  color: white !important;
  text-decoration: underline;
}

span.build {
  display: block;
  font-size: .7em;
}

</style>
    </head>
    <body>
      <div id="container">
        <div class="logo-container">
          <div class="logo">
            <img alt="Yet LRS Logo" src="images/doc_logo.png"/>
          </div>
        </div>
        <p><a href='index.html'><- Back to Index</a></p><h1 id="reactions&#95;json&#95;spec">Reactions JSON Spec</h1><p>Reaction data is internally stored in SQL LRS as JSON objects. The top-level spec for Reactions is as follows, with some properties being autogenerated when the reaction is stored or updated in SQL LRS: | Property   | Type      | Autogenerated? | &mdash;        | &mdash;       | &mdash; | <code>id</code>       | UUID      | True | <code>created</code>  | Timestamp | True | <code>modified</code> | Timestamp | True | <code>title</code>    | String    | False | <code>active</code>   | Boolean   | False | <code>ruleset</code>  | Object    | False</p><p>The following are properties of <code>ruleset</code> objects: | Property        | Type   | Description | &mdash;             | &mdash;    | &mdash; | <code>conditions</code>    | Object | Map from condition name strings to condition objects. | <code>template</code>      | Object | xAPI Statement object that allows additional <code>$templatePath</code> properties.  | <code>identityPaths</code> | Array  | Array of path arrays (see below).</p><p>A path array is an array of xAPI statement properties pointing to a particular location in the statement object, e.g. <code>&#91;&quot;actor&quot;, &quot;mbox&quot;&#93;</code>. A <code>$templatePath</code> array is similar, except its first element is a condition name, e.g. <code>&#91;&quot;condition&#95;alpha&quot;, &quot;actor&quot;, &quot;mbox&quot;&#93;</code>.</p><p>The following are properties of condition objects. Condition objects may be a boolean and contain a single <code>and</code>, <code>or</code>, or <code>not</code> property, or they can be statement criteria and contain <code>path</code>, <code>op</code>, and one of <code>val</code> or <code>ref</code>. | Property | Type   | Description | &mdash;      | &mdash;    | &mdash; | <code>path</code>   | Array  | Path array. | <code>op</code>     | String | String denoting the reaction operation. One of the following: <code>gt</code>, <code>lt</code>, <code>gte</code>, <code>lte</code>, <code>eq</code>, <code>noteq</code>, <code>like</code>, <code>contains</code>. | <code>val</code>    | Scalar | Comparison value; can be a string, boolean, number, or <code>null</code>. Type may have additional restrictions depending on the particular location in the statement. | <code>ref</code>    | Object | Object that references another condition. | <code>and</code>    | Array  | Array of condition objects. | <code>or</code>     | Array  | Array of condition objects. | <code>not</code>    | Object | Condition object to be negated.</p><p>The following are properties of the <code>ref</code> object: | Property    | Type       | Description | &mdash;         | &mdash;        | &mdash; | <code>condition</code> | String     | Referenced condition name. | <code>path</code>      | Path Array | Path array for referenced statement.</p><h3 id="example&#95;json">Example JSON</h3><p>The following is the example reaction from <a href='reactions.html'>the tutorial</a>, in JSON format:<pre><code class="json">{
    &quot;id&quot;: &quot;019257f4-d533-8c0b-8730-28b82f383982&quot;,
    &quot;created&quot;: &quot;2024-10-04T14:35:16Z&quot;,
    &quot;modified&quot;: &quot;2024-10-04T14:35:16Z&quot;,
    &quot;title&quot;: &quot;reaction&#95;example&quot;,
    &quot;active&quot;: true,
    &quot;ruleset&quot;: {
        &quot;conditions&quot;: {
            &quot;condition&#95;alpha&quot;: {
                &quot;and&quot;: &#91;
                    {
                        &quot;path&quot;: &#91; &quot;object&quot;, &quot;id&quot; &#93;,
                        &quot;op&quot;: &quot;eq&quot;,
                        &quot;val&quot;: &quot;https://example.com/alpha&quot;
                    },
                    {
                        &quot;path&quot;: &#91; &quot;verb&quot;, &quot;id&quot; &#93;,
                        &quot;op&quot;: &quot;eq&quot;,
                        &quot;val&quot;: &quot;https://example.com/completed&quot;
                    },
                    {
                        &quot;path&quot;: &#91; &quot;result&quot;, &quot;success&quot; &#93;,
                        &quot;op&quot;: &quot;eq&quot;,
                        &quot;val&quot;: true
                    }
                &#93;
            },
            &quot;condition&#95;beta&quot;: {
                &quot;and&quot;: &#91;
                    {
                        &quot;path&quot;: &#91; &quot;object&quot;, &quot;id&quot; &#93;,
                        &quot;op&quot;: &quot;eq&quot;,
                        &quot;val&quot;: &quot;https://example.com/beta&quot;
                    },
                    {
                        &quot;path&quot;: &#91; &quot;verb&quot;, &quot;id&quot; &#93;,
                        &quot;op&quot;: &quot;eq&quot;,
                        &quot;val&quot;: &quot;https://example.com/completed&quot;
                    },
                    {
                        &quot;path&quot;: &#91; &quot;result&quot;, &quot;success&quot; &#93;,
                        &quot;op&quot;: &quot;eq&quot;,
                        &quot;val&quot;: true
                    },
                    {
                        &quot;path&quot;: &#91; &quot;timestamp&quot; &#93;,
                        &quot;op&quot;: &quot;gt&quot;,
                        &quot;ref&quot;: {
                            &quot;condition&quot;: &quot;condition&#95;alpha&quot;,
                            &quot;path&quot;: &#91; &quot;timestamp&quot; &#93;
                        }
                    }
                &#93;
            }
        },
        &quot;template&quot;: {
            &quot;actor&quot;: {
                &quot;mbox&quot;: {
                    &quot;$templatePath&quot;: &#91; &quot;condition&#95;alpha&quot;, &quot;actor&quot;, &quot;mbox&quot; &#93;
                }
            },
            &quot;verb&quot;: {
                &quot;id&quot;: &quot;https://example.com/completed&quot;
            },
            &quot;object&quot;: {
                &quot;id&quot;: &quot;https://example.com/alpha-and-beta&quot;,
                &quot;objectType&quot;: &quot;Activity&quot;
            }
        },
        &quot;identityPaths&quot;: &#91;
            &#91; &quot;actor&quot;, &quot;mbox&quot; &#93;,
            &#91; &quot;actor&quot;, &quot;mbox&#95;sha1sum&quot; &#93;,
            &#91; &quot;actor&quot;, &quot;openid&quot; &#93;,
            &#91; &quot;actor&quot;, &quot;account&quot;, &quot;homePage&quot; &#93;,
            &#91; &quot;actor&quot;, &quot;account&quot;, &quot;name&quot; &#93;
        &#93;
    }
}
</code></pre></p><p><a href='index.html'><- Back to Index</a></p>
        <div class="footer">
         &copy; 2021-2025 <a href="https://www.yetanalytics.com" target="_blank">Yet Analytics Inc.</a> |
         <a href="https://github.com/yetanalytics/lrsql/blob/main/LICENSE" target="_blank">Licensed under the Apache 2.0 License</a> |
         Contribute on <a href="https://github.com/yetanalytics/lrsql" target="_blank">GitHub</a>
         <span class="build">Build: 3a39bf23b0279cce603cab480efda6d894c0dae1</span>
        </div>
      </div>
    </body>
</html>
